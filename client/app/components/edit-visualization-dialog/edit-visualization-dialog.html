<div class="visualization-editor">
  <div class="row m-0">
    <div class="col-md-3">
      <div>
        <form name="$ctrl.visForm">
          <div class="form-group" ng-if="false">
            <label class="control-label"
              >{{'VISUALIZATION.VISUALIZATION_TYPE'| translate}}</label
            >

            <select
              required
              ng-model="$ctrl.visualization.type"
              ng-disabled="!$ctrl.canChangeType"
              ng-options="type.type as type.name for type in $ctrl.visTypes"
              class="form-control"
              ng-change="$ctrl.typeChanged('{{ $ctrl.visualization.type }}')"
            ></select>
          </div>

          <div class="form-group">
            <label class="control-label"
              >{{'VISUALIZATION.VISUALIZATION_NAME'| translate}}</label
            >
            <input
              name="name"
              type="text"
              class="form-control"
              ng-model="$ctrl.visualization.name"
              placeholder="{{ $ctrl.visualization.type | capitalize }}"
            />
          </div>

          <button
            type="submit"
            class="btn btn-primary"
            ng-click="$ctrl.submit()"
          >
            保存
          </button>
        </form>
        <visualization-options-editor
          visualization="$ctrl.visualization"
          query-result="$ctrl.queryResult"
          query="$ctrl.query"
        >
        </visualization-options-editor>
      </div>
    </div>
    <div
      class="col-md-9 p-0 widget-dark-theme"
      style="height: calc(100vh - 170px);background-color: #25374C !important;"
    >
      <visualization-renderer
        visualization="$ctrl.visualization"
        query-result="$ctrl.queryResult"
      ></visualization-renderer>
    </div>
  </div>
</div>
