<div class="schema-container" ng-if="$ctrl.schema">
  <div class="schema-control">
    <input type="text" placeholder="查询图表..." class="form-control" ng-model="$ctrl.schemaFilter"
      ng-model-options="{ debounce: 500 }" ng-disabled="$ctrl.isEmpty()"
      ng-change="$ctrl.splitFilter($ctrl.schemaFilter);">
    <button class="btn btn-default" title="刷新图表" ng-click="$ctrl.onRefresh()">
      <span class="zmdi zmdi-refresh"></span>
    </button>
    <button class="btn btn-default" style="width: 5vh;" title="预警监测" ng-click="$ctrl.onRefresh()">
      <img ng-if="$ctrl.changeFlag" style="width: 3vh;" src="/static/images/icon/change.png" alt="预警" />
      <img ng-if="!$ctrl.changeFlag" style="width: 3vh;" src="/static/images/icon/nochange.png" alt="无" />
    </button>
  </div>
  
  <!-- <input type="number" ng-model="options.number" ng-change="$ctrl.onYujin()" ng-value="$ctrl.changeNumber"> </input>

  <input type="number" value="$ctrl.changeNumber"> </input>  -->



  <div class="schema-browser" vs-repeat vs-size="$ctrl.getSize(table)">
    <div ng-repeat="table in $ctrl.schema | filter:$ctrl.schemaFilterObject track by table.name">
      <div class="table-name" ng-click="$ctrl.showTable(table)">
        <i class="fa fa-table"></i>
        <strong>
          <span title="{{table.name}}">{{table.name}}</span>
          <span ng-if="table.size !== undefined"> ({{table.size}})</span>
        </strong>
        <i class="fa fa-angle-double-right copy-to-editor" aria-hidden="true"
          ng-click="$ctrl.itemSelected($event, [table.name])"></i>
      </div>
      <div uib-collapse="table.collapsed">
        <div ng-repeat="column in table.columns | filter:$ctrl.schemaFilterColumn track by column" class="table-open">
          {{column}}
          <i class="fa fa-angle-double-right copy-to-editor" aria-hidden="true"
            ng-click="$ctrl.itemSelected($event, [column])"></i>
        </div>
      </div>
    </div>
  </div>
</div>